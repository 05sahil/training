
\c student
You are now connected to database "student" as user "postgres".


\dt;
            List of relations
 Schema |     Name     | Type  |  Owner   
--------+--------------+-------+----------
 public | s1           | table | postgres
 public | s2           | table | postgres
 public | student_info | table | postgres

 
select * from s2;

name | class | subject 
------+-------+---------
 b    |    11 | sci
 c    |    11 | sci
 d    |    12 | eng
 e    |    12 | eng
 f    |    11 | math


alter table s2 add column email text;
ALTER TABLE
student=# select * from s2;
 name | class | subject | email 
------+-------+---------+-------
 b    |    11 | sci     | 
 c    |    11 | sci     | 
 d    |    12 | eng     | 
 e    |    12 | eng     | 
 f    |    11 | math    |


alter table s2 add constraint unique_values unique(name,email);
ALTER TABLE


alter table student_info add column phoneno numeric;
ALTER TABLE
student=# select * from student_info;
 id | name | class | stream  | address | phoneno 
----+------+-------+---------+---------+---------
  1 | a    |    11 | med     |         |        
  2 | d    |    11 | med     |         |        
  3 | b    |    12 | med     |         |        
  4 | c    |    11 | non-med |         |       



alter table s2 add column rollno int; 
ALTER TABLE
student=# select * from s2;
 name | class | subject | rollno 
------+-------+---------+--------
 a    |    10 | math    |       
 b    |    11 | sci     |       
 c    |    11 | sci     |       
 d    |    12 | eng     |       
 e    |    12 | eng     |       
 f    |    11 | math    |      



alter table s2 drop column rollno;
ALTER TABLE
student=# select * from s2;
 name | class | subject 
------+-------+---------
 a    |    10 | math
 b    |    11 | sci
 c    |    11 | sci
 d    |    12 | eng
 e    |    12 | eng
 f    |    11 | math


delete from s2 where class = 10;
DELETE 1
student=# select * from s2;
 name | class | subject 
------+-------+---------
 b    |    11 | sci
 c    |    11 | sci
 d    |    12 | eng
 e    |    12 | eng
 f    |    11 | math


 insert into s1 values ('a',11,'sci');
INSERT 0 1
student=# select * from s1;
 name | class | subject 
------+-------+---------
 a    |    11 | sci
(1 row)


 delete from s1 using s2 where s1.class = s2.class;
DELETE 1
student=# select * from s1;
 name | class | subject 
------+-------+---------
(0 rows)




\d+ student_info;
                                                     Table "public.student_info"
 Column  |         Type          |                         Modifiers                         | Storage  | Stats target | Description 
---------+-----------------------+-----------------------------------------------------------+----------+--------------+-------------
 id      | integer               | not null default nextval('student_info_id_seq'::regclass) | plain    |              | 
 name    | character varying(30) | not null                                                  | extended |              | 
 class   | integer               | not null                                                  | plain    |              | 
 stream  | character varying(20) | not null                                                  | extended |              | 
 address | character varying(50) |                                                           | extended |              | 
 phoneno | numeric               |                                                           | main     |              | 
Indexes:
    "student_info_pkey" PRIMARY KEY, btree (id)


alter table student_info add constraint unique_phone unique (phoneno);
ALTER TABLE

alter table student_info drop constraint unique_phone;
ALTER TABLE
student=# select * from student_info;
 id | name | class | stream  | address | phoneno 
----+------+-------+---------+---------+---------
  1 | a    |    11 | med     |         |        
  2 | d    |    11 | med     |         |        
  3 | b    |    12 | med     |         |        
  4 | c    |    11 | non-med |         |        
(4 rows)



student=# select id,name from student_info order by id desc limit 1;
 id | name 
----+------
  4 | c
(1 row)


student=# select sum(id) sum_id from student_info;
 sum_id 
--------
     10
(1 row)


student=# select min(id) min_id from student_info;
 min_id 
--------
      1
(1 row)


student=# select max(id) max_id from student_info;
 max_id 
--------
      4
(1 row)


student=# select avg(id) avg_id from student_info;
       avg_id       
--------------------
 2.5000000000000000
(1 row)


student=# select round(avg(id)) avg_id from student_info;
 avg_id 
--------
      3
(1 row)












